/* ==========================================================================
   1. Design tokens & base
   ========================================================================== */

/* Global smooth scrolling physics */
html {
  scroll-behavior: smooth;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Custom Scrollbar Styles */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--surface);
  border-radius: var(--radius-md);
}

::-webkit-scrollbar-thumb {
  background: rgba(var(--primary-rgb), 0.3);
  border-radius: var(--radius-md);
  border: 2px solid var(--surface);
  transition: background var(--motion-duration) ease;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--primary-rgb), 0.5);
}

/* Firefox Scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(var(--primary-rgb), 0.3) var(--surface);
}

body {
  overflow-y: auto;
  overflow-x: hidden;
  width: 100vw;
  margin: 0;
  padding: 0;
  overscroll-behavior-y: contain;
  scroll-snap-type: y mandatory;
}

:root{
  /* Palette (sourced from JS theme via --theme-* variables) */
  --bg: var(--theme-bg);
  --surface: var(--theme-surface);
  --muted: var(--theme-muted);
  
  /* Glass effect variables */
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --glass-blur: 12px;
  
  /* Typography */
  --font-primary: 'Inter', system-ui, sans-serif;
  --font-display: 'Plus Jakarta Sans', var(--font-primary);
  --font-size-base: 1rem;
  --font-size-lg: 1.25rem;
  --font-size-xl: 2.5rem;
  --font-size-xxl: 4rem;
  --line-height-base: 1.6;
  --line-height-heading: 1.2;
  --heading-spacing: 0 0 1rem 0;
  --text-spacing: 0 0 1.5rem 0;
  --text-color: rgba(255,255,255,0.92);
  --heading-color: rgba(255,255,255,0.98);
  
  /* Spacing */
  --section-spacing: clamp(3rem, 8vh, 8rem);
  --content-width: min(1200px, 90vw);
  
  /* Transitions */
  --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Elevation */
  --elevation-1: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  --elevation-2: 0 3px 6px rgba(0,0,0,0.15), 0 2px 4px rgba(0,0,0,0.12);
  --elevation-3: 0 10px 20px rgba(0,0,0,0.15), 0 3px 6px rgba(0,0,0,0.1);
  --primary: var(--theme-primary);
  --primary-600: var(--theme-primary-600);
  --primary-rgb: var(--theme-primary-rgb);
  --accent: var(--theme-accent);
  --accent-rgb: var(--theme-accent-rgb);
  --text: var(--theme-text);
  --text-rgb: var(--theme-text-rgb);
  --muted-text: rgba(var(--theme-text-rgb), 0.66);
  --border: rgba(var(--theme-text-rgb), 0.06);
  --glass: rgba(var(--theme-text-rgb), 0.02);

  /* Spacing & scale (8px baseline) */
  --space-xxs: 4px;
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-round: 999px;

  /* Scroll physics */
  --scroll-timing: cubic-bezier(0.16, 1, 0.3, 1);
  --scroll-spring: cubic-bezier(0.4, 0, 0.2, 1);
  --scroll-decelerate: cubic-bezier(0, 0, 0.2, 1);

  /* Typography */
  --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  --fs-base: 16px;
  --fs-xs: 13px;
  --fs-sm: 14px;
  --fs-md: 16px;
  --fs-lg: 18px;
  --fs-xl: 20px;
  --fs-xxl: 26px;

  /* Motion & elevation (tinted by primary) */
  --shadow-1: 0 6px 20px rgba(var(--theme-primary-rgb), 0.10);
  --shadow-2: 0 12px 36px rgba(var(--theme-primary-rgb), 0.14);
  --motion-duration-fast: 0.12s;
  --motion-duration: 0.18s;
  --motion-duration-slow: 0.28s;
}

/* Reset */
*{box-sizing:border-box}
*::before,*::after{box-sizing:border-box}
html{font-size:var(--fs-base);scroll-behavior:smooth}
body{font-family:var(--font-sans);background:var(--bg);color:var(--text);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;min-height:100vh}

/* sensible defaults for content */
img,svg,video{max-width:100%;height:auto;display:block}
button{font-family:inherit}

/* Core layout helpers */
.container{max-width:1200px;margin:0 auto;padding:0 var(--space-lg);width:100%}
.row{display:flex;flex-wrap:wrap;margin:-8px}
.col{padding:8px}
.align-center{display:flex;align-items:center}
.justify-between{display:flex;justify-content:space-between;align-items:center}

/* =============================
   Typography System
   ============================= */
:root {
  --font-primary: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  --font-display: 'Plus Jakarta Sans', var(--font-primary);
  --font-size-base: 1rem;
  --font-size-lg: 1.25rem;
  --font-size-xl: 2.5rem;
  --font-size-xxl: 4rem;
  --line-height-base: 1.6;
  --line-height-heading: 1.2;
  --heading-spacing: 0 0 1rem 0;
  --text-spacing: 0 0 1.5rem 0;
  --text-color: rgba(255,255,255,0.92);
  --heading-color: rgba(255,255,255,0.98);
}

body {
  font-family: var(--font-primary);
  font-size: var(--font-size-base);
  color: var(--text-color);
  line-height: var(--line-height-base);
  background: var(--bg);
  letter-spacing: 0.01em;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  color: var(--heading-color);
  line-height: var(--line-height-heading);
  margin: var(--heading-spacing);
  letter-spacing: -0.02em;
  font-weight: 700;
}

h1 {
  font-size: clamp(2.5rem, 5vw, var(--font-size-xxl));
}

h2 {
  font-size: clamp(2rem, 4vw, var(--font-size-xl));
}

h3 {
  font-size: clamp(1.5rem, 3vw, var(--font-size-lg));
}

h4, h5, h6 {
  font-size: 1.125rem;
}

p, ul, ol, pre, blockquote {
  margin: var(--text-spacing);
  color: var(--text-color);
  font-size: 1rem;
  line-height: var(--line-height-base);
}

strong, b {
  color: var(--heading-color);
  font-weight: 600;
}

a {
  color: #7ecbff;
  text-decoration: underline;
  transition: color 0.2s;
}

a:hover {
  color: #fff;
}

@media (max-width: 768px) {
  h1 {
    font-size: 2rem;
  }
  h2 {
    font-size: 1.5rem;
  }
  h3 {
    font-size: 1.125rem;
  }
  body {
    font-size: 0.97rem;
  }
}

/* ==========================================================================
   2. Buttons & controls
   ========================================================================== */
.btn{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:var(--radius-md);border:none;cursor:pointer;font-weight:700;font-size:var(--fs-sm);transition:transform var(--motion-duration-fast) ease,box-shadow var(--motion-duration-fast) ease}
.btn:disabled{opacity:0.6;cursor:not-allowed}
.btn:active{transform:translateY(0)}

.btn-primary{background:linear-gradient(180deg,var(--primary),var(--primary-600));color:var(--text);box-shadow:var(--shadow-1)}
.btn-primary:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}
.btn-primary:focus-visible{box-shadow:0 0 0 6px rgba(var(--theme-primary-rgb), 0.12)}

.btn-secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
.btn-secondary:hover{background:rgba(var(--theme-text-rgb),0.02)}
.btn-ghost{background:transparent;color:var(--text);opacity:.95}

/* Small / icon */
.btn-sm{padding:6px 10px;font-size:var(--fs-xs)}

/* ==========================================================================
   3. Cards, panels, and surfaces
   ========================================================================== */

.card{background:linear-gradient(180deg, rgba(var(--text-rgb), 0.02), transparent);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);box-shadow:var(--shadow-1);transition:transform var(--motion-duration) ease,box-shadow var(--motion-duration) ease}
.card h3{color:var(--text);margin-bottom:8px;font-size:var(--fs-md)}
.card p{color:var(--muted-text);margin:0}
.card:hover{transform:translateY(-4px);box-shadow:var(--shadow-2)}

.panel{background:var(--surface);border-radius:var(--radius-md);padding:var(--space-md);border:1px solid var(--border)}

/* emphasize primary actions inside a card */
.card .card-actions{display:flex;gap:12px;margin-top:var(--space-md);justify-content:flex-end}

/* Subtle divider */

.divider{height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);margin:var(--space-md) 0}

/* Compact list/card grid */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--space-md)}

/* ==========================================================================
   4. Forms
   ========================================================================== */

input,textarea,select{width:100%;padding:12px 14px;border-radius:var(--radius-sm);background:var(--muted);border:1px solid var(--border);color:var(--text);font-size:var(--fs-sm);transition:box-shadow var(--motion-duration-fast) ease,border-color var(--motion-duration-fast) ease}
input::placeholder,textarea::placeholder{color:rgba(var(--theme-text-rgb), 0.44)}
input:focus,textarea:focus,select:focus{box-shadow:0 10px 30px rgba(var(--theme-primary-rgb), 0.08);border-color:rgba(var(--theme-primary-rgb), 0.85);outline:none}

.form-row{display:flex;gap:12px}
.field-help{font-size:13px;color:rgba(var(--theme-text-rgb), 0.88);margin-top:6px}

/* compact form controls */
.input-inline{display:flex;gap:8px;align-items:center}

/* subtle validation states */
.is-invalid{border-color:rgba(var(--theme-primary-rgb),0.12)}


/* Toggle switch (simplified and accessible) */

.toggle-switch{display:inline-flex;align-items:center}
.switch{width:44px;height:26px;border-radius:var(--radius-round);background:var(--muted);position:relative;border:1px solid var(--border);transition:background var(--motion-duration) ease}
.switch .knob{position:absolute;top:3px;left:3px;width:20px;height:20px;border-radius:50%;background:rgba(var(--theme-text-rgb),1);transition:transform var(--motion-duration) ease,background var(--motion-duration) ease}
.switch.on{background:linear-gradient(90deg,var(--primary),var(--accent))}
.switch.on .knob{transform:translateX(18px)}

/* ==========================================================================
   5. Utilities
   ========================================================================== */
.text-muted{color:var(--muted-text)}
.small{font-size:var(--fs-xs)}
.caps{letter-spacing:1px;text-transform:uppercase;font-size:var(--fs-xs);color:var(--muted-text)}
.avatar{width:40px;height:40px;border-radius:var(--radius-round);overflow:hidden;background:var(--muted);display:inline-flex;align-items:center;justify-content:center}

/* Scrollbar */
.custom-scrollbar::-webkit-scrollbar{width:10px;height:10px}
.custom-scrollbar::-webkit-scrollbar-track{background:transparent}
.custom-scrollbar::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--primary),var(--accent));border-radius:999px}

/* Utility to hide scrollbars but keep scrolling functional */
.hide-scrollbar{
   -ms-overflow-style: none; /* IE and Edge */
   scrollbar-width: none; /* Firefox */
}
.hide-scrollbar::-webkit-scrollbar{display:none}

/* Accordion content (ensure toggle works even if dist CSS isn't loaded) */
.accordion-content{overflow:hidden;transition:max-height .36s cubic-bezier(.4,0,.2,1),padding .36s cubic-bezier(.4,0,.2,1);max-height:0;padding-top:0;padding-bottom:0}
.accordion-content.open{max-height:1000px;padding-top:.5rem;padding-bottom:1rem}

/* Brand helpers */
.brand{display:inline-flex;align-items:center}
.brand-logo{width:40px;height:40px;border-radius:var(--radius-round);object-fit:cover;box-shadow:var(--shadow-1);background:var(--surface)}
.brand-title{line-height:1}

/* Brand helpers - YouTube-like brand: compact logo + title inline */
.brand{display:flex;align-items:center;gap:10px;padding:2px 4px}
.brand-logo{width:36px;height:36px;border-radius:6px;object-fit:cover;box-shadow:var(--shadow-1);background:var(--surface);flex:0 0 auto}
.brand-title{line-height:1;margin:0;font-weight:700;font-size:var(--fs-lg);color:var(--text);letter-spacing:0.2px}

/* Slightly smaller on mobile; hide text on very narrow screens if you prefer a compact icon */
@media (max-width:520px){
   .brand-logo{width:34px;height:34px}
   /* keep the title visible by default, but reduce size */
   .brand-title{font-size:var(--fs-sm);margin-left:6px}
}
@media (max-width:520px){.brand-title{display:none}.brand-logo{width:36px;height:36px}}

/* Desktop: align brand slightly more to the left for a stronger edge alignment */
@media (min-width:1024px) {
   nav .container{padding-left:var(--space-md);padding-right:var(--space-md)}
   nav .brand{margin-left:-18px}
}

/* ==========================================================================
   6. Responsive tweaks
   ========================================================================== */
@media (min-width:768px){:root{--fs-base:17px} .container{padding:0 var(--space-xl)} h1{font-size:28px}}

@media (max-width:520px){.form-row{flex-direction:column}}

/* Small animations */
.fade-in{animation:fadeIn .45s ease-out both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* keep legacy utility names used in project to avoid regressions */
.card--glass{backdrop-filter:blur(6px)}

/* small accessibility helpers */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}


/* ==========================================================================
   Hero blurred multi-layer background (decorative)
   - 3 photographic layers (waterfall / river / mountain) with blur + subtle pan
   - overlay to darken and add subtle glass blur for readable foreground text
   - respects prefers-reduced-motion
   ========================================================================== */

/* increase amplitude and use smoother easing + staggered durations per layer for a lively parallax */
@keyframes hero-float {
    0% { transform: translate3d(-25%, -20%, 0) scale(1.3); }
    25% { transform: translate3d(20%, 25%, 0) scale(1.35); }
    50% { transform: translate3d(25%, -22%, 0) scale(1.4); }
    75% { transform: translate3d(-22%, 20%, 0) scale(1.35); }
    100% { transform: translate3d(-25%, -20%, 0) scale(1.3); }
}

@keyframes glow-pulse {
    0% { filter: blur(14px) saturate(1.2) brightness(1); }
    50% { filter: blur(16px) saturate(1.4) brightness(1.15); }
    100% { filter: blur(14px) saturate(1.2) brightness(1); }
}

@keyframes move-layer-2 {
    0% { transform: translate3d(25%, 20%, 0) scale(1.35); }
    25% { transform: translate3d(-20%, -25%, 0) scale(1.4); }
    50% { transform: translate3d(-25%, 22%, 0) scale(1.45); }
    75% { transform: translate3d(22%, -20%, 0) scale(1.4); }
    100% { transform: translate3d(25%, 20%, 0) scale(1.35); }
}

@keyframes move-layer-3 {
    0% { transform: translate3d(20%, -25%, 0) scale(1.4); }
    25% { transform: translate3d(-25%, 20%, 0) scale(1.45); }
    50% { transform: translate3d(-20%, -25%, 0) scale(1.5); }
    75% { transform: translate3d(25%, 20%, 0) scale(1.45); }
    100% { transform: translate3d(20%, -25%, 0) scale(1.4); }
}

.hero-bg__overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(6,8,15,0.12),rgba(6,8,15,0.6));backdrop-filter:blur(6px) saturate(1.05);z-index:1;pointer-events:none}

@media (prefers-reduced-motion:reduce){.hero-bg__layer{animation:none!important;transition:none!important}}

/* ==========================================================================
    Transparent UI override
    Apply by adding `data-transparent="true"` to the <html> or :root element, e.g.
       <html data-transparent="true"> ...
    This will make common surfaces (nav/header/footer/cards/panels/buttons) transparent
    while preserving readable text and subtle borders. Useful for a full-bleed photographic
    background or when you want UI chrome to be transparent.
    ========================================================================== */


/* Keep subtle outlines so elements remain discoverable */
:root[data-transparent="true"] .card,
:root[data-transparent="true"] .panel,
:root[data-transparent="true"] .bg-secondary,
:root[data-transparent="true"] nav {
   border: 1px solid rgba(var(--theme-text-rgb), 0.06) !important;
}

/* Buttons: keep text contrast and a faint underline-style focus */
:root[data-transparent="true"] .btn,
:root[data-transparent="true"] .btn-primary,
:root[data-transparent="true"] .btn-secondary {
   color: var(--text) !important;
   background: transparent !important;
}

/* Improve visibility of buttons and interactive chrome against photographic backgrounds */
:root[data-transparent="true"] .btn,
:root[data-transparent="true"] .btn-primary,
:root[data-transparent="true"] .btn-secondary {
   background: linear-gradient(180deg, rgba(var(--theme-bg-rgb, 6 8 15), 0.06), rgba(var(--theme-bg-rgb, 6 8 15), 0.03)) !important;
   border: 1px solid rgba(var(--theme-text-rgb), 0.12) !important;
   box-shadow: 0 6px 18px rgba(2,6,23,0.12) !important;
   padding-top: 10px !important;
   padding-bottom: 10px !important;
   z-index: 30 !important;
   text-shadow: 0 1px 2px rgba(0,0,0,0.6) !important;
}

/* Primary buttons: slight accent tint for recognizability */
:root[data-transparent="true"] .btn-primary {
   background: linear-gradient(180deg, rgba(var(--accent-rgb),0.06), rgba(var(--primary-rgb),0.04)) !important;
   border-color: rgba(var(--accent-rgb),0.16) !important;
}

/* Ensure nav/footer have a subtle backing so content remains legible */
:root[data-transparent="true"] nav,
:root[data-transparent="true"] footer,
:root[data-transparent="true"] header {
   background: linear-gradient(180deg, rgba(var(--theme-bg-rgb,6 8 15),0.04), rgba(var(--theme-bg-rgb,6 8 15),0.02)) !important;
   border-bottom: 1px solid rgba(var(--theme-text-rgb), 0.06) !important;
   z-index: 25 !important;
   backdrop-filter: blur(6px) saturate(1.02) !important;
}

/* Cards: add a faint glass so card text remains readable */
:root[data-transparent="true"] .card,
:root[data-transparent="true"] .panel,
:root[data-transparent="true"] .bg-secondary {
   background: linear-gradient(180deg, rgba(var(--theme-bg-rgb,6 8 15),0.03), rgba(var(--theme-bg-rgb,6 8 15),0.02)) !important;
   border: 1px solid rgba(var(--theme-text-rgb), 0.06) !important;
   box-shadow: 0 8px 28px rgba(2,6,23,0.08) !important;
}

/* Focus-visible improvements */
:root[data-transparent="true"] .btn:focus-visible,
:root[data-transparent="true"] .card:focus-visible,
:root[data-transparent="true"] .panel:focus-visible {
   outline: none !important;
   box-shadow: 0 0 0 6px rgba(var(--accent-rgb), 0.08) !important;
}

/* For elements that relied on glass blur, reduce double-blur and make them subtle */
:root[data-transparent="true"] .card--glass,
:root[data-transparent="true"] .backdrop-blur-sm {
   backdrop-filter: blur(4px) saturate(1.02) !important;
}

/* Make sure sticky bars remain readable when transparent: add faint background on small screens */
@media (max-width: 720px) {
   :root[data-transparent="true"] .sticky {
      background: linear-gradient(180deg, rgba(6,8,15,0.06), rgba(6,8,15,0.02)) !important;
      backdrop-filter: blur(4px) !important;
   }
}

/* Accessibility: if user prefers high-contrast, don't remove all chrome */
@media (prefers-contrast: more) {
   :root[data-transparent="true"] .card,
   :root[data-transparent="true"] .panel,
   :root[data-transparent="true"] nav {
      background: linear-gradient(180deg, rgba(6,8,15,0.02), rgba(6,8,15,0.02)) !important;
      box-shadow: var(--shadow-1) !important;
   }
}

/* Disable all CSS-based spinning globally when we want to remove spinner UX.
  This stops Tailwind's `animate-spin` and any custom spin animations. */
.animate-spin, .spinner {
  -webkit-animation: none !important;
  animation: none !important;
}

/* If you later want to re-enable spins for specific components, add a
  class like `spin-enabled` and update the selector accordingly. */

/* Generate button spinner: use a dedicated animation that is NOT blocked by
   the global .animate-spin override. This allows enabling a single spinner
   (the Generate button) while keeping others disabled. */
.generate-spin {
  animation: spin-fast 0.18s linear infinite;
}

@keyframes spin-fast {
  to { transform: rotate(360deg); }
}

