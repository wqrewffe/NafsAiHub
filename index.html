<!DOCTYPE html>
<!-- Provide a fallback background & text color to avoid white flash before JS/CSS variables load -->
<html lang="en" data-transparent="true" style="background-color:var(--theme-bg,#061018); color:var(--theme-text,#e6edf3)">
  <head>
    <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css">
    <style>
      /* Inline critical styles for instant loading */
  :root { --nav-height: 64px; --initial-footer-height: 220px; }
  /* Keep static content visible immediately so items don't disappear before React mounts. */
  .content-loading { opacity: 1; }
      /* faster fade so content is visible sooner */
      .content-loaded { opacity: 1; transition: opacity 90ms ease-in; }
      /* faster spinner animation for snappy feedback */
  .spinner { animation: none !important; }

    /* initial loader shown before React mounts: positioned under the navbar */
    /* Use pointer-events:none so the placeholder nav remains interactive (links will be handled by React once mounted). */
    #initial-loader { position: fixed; top: var(--nav-height); left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; z-index: 40; background: transparent; pointer-events: none; }
    #initial-loader .spinner { width: 40px; height: 40px; border-width: 3px; }

    /* Inline minimal navbar CSS so the static placeholder matches the real navbar
      even before Tailwind or component CSS loads. It mirrors values from
      components/Navbar.css (uses CSS vars where possible). */
    #initial-nav { background: rgba(var(--primary-rgb, 6 8 15), 0.80); -webkit-backdrop-filter: blur(6px) saturate(1.05); backdrop-filter: blur(6px) saturate(1.05); border-bottom: 1px solid rgba(255,255,255,0.06); box-shadow: 0 6px 18px rgba(2,6,23,0.08); padding-top: 1rem; padding-bottom: 1rem; z-index: 50; }
    #initial-nav .container { width:100%; max-width:1280px; margin:0 auto; padding-left:16px; padding-right:16px; }
    #initial-nav .brand-title { color: var(--color-accent, #8b5cf6); font-weight:700; font-size:1.35rem; }
    #initial-nav .brand-logo { height:28px; width:28px; object-fit:contain; }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* Ensure the initial paint uses the app background and not white while
      CSS variables are not yet populated by JS. This prevents a white blank
      page during reloads and shows the current page background immediately. */
    html, body, #root { background: var(--theme-bg, #061018); color: var(--theme-text, #e6edf3); min-height: 100vh; }
      /* Full Navbar.css inlined to make the placeholder pixel-perfect before
         component CSS or Tailwind loads. Copied from components/Navbar.css. */
      .fallback-avatar{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,var(--primary),var(--primary-600));color:var(--text);font-weight:600;font-size:0.9rem;width:40px;height:40px;border-radius:999px;box-shadow:0 4px 10px rgba(var(--theme-primary-rgb),0.12)}
      .fallback-avatar::before{content:attr(data-initials)}

      /* Strong glass / blur navbar style - applied via `.navbar-glass` on the <nav> */
      .navbar-glass{
        /* Prefer primary color with alpha (matches `bg-primary/80`) with a safe fallback */
        background: rgba(var(--primary-rgb, 6 8 15), 0.80);
        -webkit-backdrop-filter: blur(6px) saturate(1.05); /* small blur like backdrop-blur-sm */
        backdrop-filter: blur(6px) saturate(1.05);
        border-bottom: 1px solid rgba(var(--theme-text-rgb), 0.08);
        box-shadow: 0 6px 18px rgba(2,6,23,0.08);
        /* Ensure navbar spacing is comfortable when not using Tailwind utilities */
        padding-top: 1rem;
        padding-bottom: 1rem;
      }

      /* Increased font sizes for navbar items */
      .navbar-glass a:not(.brand-title),
      .navbar-glass button {
        font-size: 1.05rem !important;  /* slightly larger than text-base */
      }

      .navbar-glass .brand-title {
        font-size: 1.35rem !important;  /* slightly larger than original */
      }

      /* Make mobile menu items slightly smaller */
      @media (max-width: 768px) {
        .navbar-glass a:not(.brand-title),
        .navbar-glass button {
          font-size: 1rem !important;
        }
      }

      /* Slightly stronger variant for very large screens */
      @media (min-width:1200px){
        .navbar-glass{backdrop-filter:blur(18px) saturate(1.15);-webkit-backdrop-filter:blur(18px) saturate(1.15);}
      }


      /* Palestine banner - subtle, centered */
      .palestine-banner{display:flex;align-items:center;gap:12px;background:linear-gradient(90deg,rgba(var(--theme-text-rgb),0.02),rgba(var(--theme-text-rgb),0.01));padding:8px 14px;border-bottom:1px solid var(--border);justify-content:center;font-weight:700;color:var(--text);font-size:0.95rem;border-radius:0 0 var(--radius-sm) var(--radius-sm)}
      .palestine-flag-svg{width:40px;height:24px;display:block;border-radius:4px;box-shadow:0 2px 6px rgba(var(--theme-text-rgb),0.35)}
      .palestine-text{letter-spacing:0.3px;color:var(--muted-text);text-shadow:none}

      @media (max-width:420px){.palestine-banner{padding:6px 10px;gap:8px;font-size:0.82rem}.palestine-flag-svg{width:32px;height:20px}}
    /* Skeleton / initial content placeholder styles - very small, lightweight rules
      to show page structure while React bundles and lazy pages load. */
    .skeleton { background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); border-radius:8px; }
    .skeleton.hero { height: 220px; border-radius:12px; margin: 20px auto; max-width:1100px; }
    .skeleton.row { display:flex; gap:16px; max-width:1100px; margin: 12px auto; }
    .skeleton.card { flex:1; height:120px; }
    .skeleton.sidebar { width:320px; height:420px; }
   /* Make the initial-root fill the viewport minus nav + footer so the
     static footer sits at the bottom like the real layout. Adjust the
     fallback footer height (220px) if your real footer grows. */
  /* Reserve space for the fixed placeholder footer so it doesn't overlap the navbar */
  .initial-root { padding-top: calc(var(--nav-height) + 8px); pointer-events: none; min-height: calc(100vh - var(--nav-height) - var(--initial-footer-height)); padding-bottom: var(--initial-footer-height); }
    /* subtle shimmer */
    .skeleton::after{ content: ''; position: absolute; inset:0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.015), transparent); transform: translateX(-100%); animation: shimmer 1000ms linear infinite; border-radius:inherit }
    @keyframes shimmer { to { transform: translateX(100%); } }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <script src="/preloader.js" defer></script>
  <script src="/background-scroll.js" defer></script>
    <script>
      // Instant page initialization
      window.instant = true;
      document.documentElement.classList.add('no-transition');
      window.addEventListener('load', () => {
        requestAnimationFrame(() => {
          document.documentElement.classList.remove('no-transition');
        });
      });
    </script>
    <script>
      // Service worker handling: temporarily *unregister* any existing service workers to
      // prevent stale cached HTML/JS from being served to users (this was causing the
      // "past content" flash). If you rely on a service worker for offline features,
      // re-enable registration after resolving caching strategies.
      if ('serviceWorker' in navigator) {
        // Attempt to unregister existing registrations on load
        window.addEventListener('load', async () => {
          try {
            const regs = await navigator.serviceWorker.getRegistrations();
            for (const r of regs) {
              try { await r.unregister(); } catch (e) { console.warn('Failed to unregister SW', e); }
            }

            // Also clear caches to remove any previously cached responses that may be showing stale UI
            if (window.caches && typeof window.caches.keys === 'function') {
              const keys = await caches.keys();
              await Promise.all(keys.map(k => caches.delete(k)));
            }

            console.log('Service workers unregistered and caches cleared to avoid stale UI.');
          } catch (e) {
            console.warn('Error during service worker cleanup:', e);
          }
        });
      }
    </script>
    <title>NafsAiHub — Learn, Compete, and Collaborate</title>
    <meta name="description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features." />
    <meta name="keywords" content="AI tools, learning platform, collaborative learning, quizzes, study groups, competitions, AI-powered features, educational technology, student tools, professional development" />
    <meta name="author" content="NafsAiHub" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    <link rel="canonical" href="https://nafsaihub.vercel.app/" />
    <!-- Google Search Console verification (replace the content value with your verification token) -->
    <meta name="google-site-verification" content="REPLACE_WITH_GOOGLE_TOKEN" />
    
    <!-- Additional SEO meta tags -->
    <meta name="application-name" content="NafsAiHub" />
    <meta name="apple-mobile-web-app-title" content="NafsAiHub" />
    <meta name="msapplication-TileColor" content="#8b5cf6" />
    <meta name="theme-color" content="#8b5cf6" />
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="NafsAiHub — Learn, Compete, and Collaborate" />
    <meta property="og:description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features." />
    <meta property="og:url" content="https://nafsaihub.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="NafsAiHub" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="NafsAiHub - AI-Powered Learning Platform" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@NafsAiHub" />
    <meta name="twitter:creator" content="@NafsAiHub" />
    <meta name="twitter:title" content="NafsAiHub — Learn, Compete, and Collaborate" />
    <meta name="twitter:description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features." />
    <meta name="twitter:image" content="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png" />
    <meta name="twitter:image:alt" content="NafsAiHub - AI-Powered Learning Platform" />

    <!-- JSON-LD structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "NafsAiHub",
      "alternateName": "Nafs AI Hub",
      "url": "https://nafsaihub.vercel.app/",
      "description": "NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.",
      "publisher": {
        "@type": "Organization",
        "name": "NafsAiHub",
        "url": "https://nafsaihub.vercel.app/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png",
          "width": 1200,
          "height": 630
        }
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://nafsaihub.vercel.app/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "NafsAiHub",
      "alternateName": "Nafs AI Hub",
      "url": "https://nafsaihub.vercel.app/",
      "description": "NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.",
      "logo": {
        "@type": "ImageObject",
        "url": "https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png",
        "width": 1200,
        "height": 630
      },
      "sameAs": [
        "https://nafsaihub.vercel.app/"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "url": "https://nafsaihub.vercel.app/support"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "url": "https://nafsaihub.vercel.app/",
      "name": "NafsAiHub — Learn, Compete, and Collaborate",
      "description": "NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.",
      "isPartOf": {
        "@type": "WebSite",
        "name": "NafsAiHub",
        "url": "https://nafsaihub.vercel.app/"
      },
      "about": {
        "@type": "Thing",
        "name": "AI-powered learning platform",
        "description": "Collaborative learning platform with quizzes, study groups, competitions, and AI-powered features"
      },
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://nafsaihub.vercel.app/"
          }
        ]
      }
    }
    </script>
    
    <!-- Additional SEO structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "NafsAiHub",
      "alternateName": "Nafs AI Hub",
      "url": "https://nafsaihub.vercel.app/",
      "description": "NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.",
      "logo": {
        "@type": "ImageObject",
        "url": "https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png",
        "width": 1200,
        "height": 630
      },
      "sameAs": [
        "https://nafsaihub.vercel.app/"
      ],
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "AI Learning Tools",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "AI-Powered Learning Tools",
              "description": "Over 75 specialized AI tools for students and professionals"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Collaborative Study Groups",
              "description": "Join study groups and collaborate with other learners"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Quiz Competitions",
              "description": "Participate in educational competitions and quizzes"
            }
          }
        ]
      }
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: 'rgb(var(--color-primary-rgb) / <alpha-value>)',
              secondary: 'rgb(var(--color-secondary-rgb) / <alpha-value>)',
              accent: 'rgb(var(--color-accent-rgb) / <alpha-value>)',
              light: 'rgb(var(--color-light-rgb) / <alpha-value>)',
            },
          },
        },
      }
    </script>
    <!-- <link rel="stylesheet" href="https://rsms.me/inter/inter.css"> -->
    <link rel="stylesheet" href="styles.css">
    <style>
      body { font-family: 'Inter', sans-serif; }
      html { scroll-behavior: smooth; }
    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.14.0",
    "react-router-dom": "https://esm.sh/react-router-dom@^7.8.1",
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "react/": "https://esm.sh/react@^19.1.1/",
    "react": "https://esm.sh/react@^19.1.1",
    "firebase/": "https://esm.sh/firebase@^12.1.0/"
  }
}
</script>
<link rel="stylesheet" href="/styles.css">
</head>
  <body>
    <!-- Full-site decorative background (sky / river / mountain) -->

    <div class="site-bg" aria-hidden="true">
      <div class="site-bg__layer site-bg__layer--1"></div>
      <div class="site-bg__layer site-bg__layer--2"></div>
      <div class="site-bg__layer site-bg__layer--3"></div>
      <div class="site-bg__overlay"></div>
    </div>
    <!-- Load decorative background effects only on larger screens to avoid mobile overhead -->
    <script>
      (function(){
        try {
          if (typeof window === 'undefined') return;
          if (window.innerWidth < 768) return; // skip on small screens
          const s = document.createElement('script');
          s.src = '/site-bg-parallax.js';
          s.defer = true;
          s.onerror = function(){ console && console.debug && console.debug('site-bg-parallax.js failed to load'); };
          document.head.appendChild(s);
        } catch (e) { /* ignore */ }
      })();
    </script>
    <!-- Lightweight static navbar placeholder that shows instantly on page load
         (removed by React once the real Navbar mounts). This helps avoid a
         blank white page — the placeholder is visually minimal and loads
         instantly via plain HTML/CSS. -->
    <!-- Static navbar placeholder that mirrors the real Navbar markup/styles
         (keeps layout identical to avoid jump). Uses Tailwind utility classes
         so it will match the real navbar when Tailwind is loaded. -->
    <nav id="initial-nav" aria-hidden="true" class="navbar-glass sticky -top-1 bg-primary/80 backdrop-blur-sm py-2 z-50 -mt-1" style="position:fixed;left:0;right:0;top:0;height:var(--nav-height);">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center gap-3">
            <a href="/" class="brand flex items-center gap-3">
              <img src="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png" alt="Naf's AI Hub logo" class="brand-logo" style="height:28px;width:28px;object-fit:contain;" />
              <span class="brand-title font-bold text-2xl" style="opacity:0.9;color:#ff0000;">Naf's AI Hub</span>
            </a>
          </div>

          <!-- Desktop full placeholder (mirrors real Navbar links) -->
          <div class="hidden md:flex items-center space-x-4">
            <a href="/" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a>
            <a href="/showcase" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Tools</a>
            <a href="/leaderboard" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Leaderboard</a>
            <a href="/badges" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Badges</a>
            <a href="/support" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Support</a>
            <a href="/contact" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Contact</a>
            <div class="flex items-center gap-3 ml-4">
              <a href="/login" class="text-slate-300 hover:bg-slate-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Login</a>
              <a href="/signup" class="bg-sky-500 text-white px-3 py-2 rounded-md text-sm font-medium">Sign Up</a>
            </div>
          </div>

          <!-- Mobile placeholder: avatar + menu button -->
          <div class="md:hidden flex items-center gap-2">
            <div class="w-8 h-8 rounded-full bg-primary" style="opacity:0.9"></div>
            <button class="p-2 rounded-md text-slate-300" aria-hidden="true">
              <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/></svg>
            </button>
          </div>
        </div>
      </div>
    </nav>

  <!-- Full static footer placeholder to match the real footer while the app loads -->
  <footer id="initial-footer" aria-hidden="true" class="bg-secondary/50 text-light border-t border-secondary/50" style="position:fixed;left:0;right:0;bottom:0;height:var(--initial-footer-height);z-index:30;">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid md:grid-cols-4 gap-8 mb-8">
          <div class="md:col-span-2">
            <div class="flex items-center gap-3 mb-4">
              <img src="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png" alt="Naf's AI Hub logo" class="brand-logo" style="height:28px;width:28px;object-fit:contain;" />
              <h3 class="text-lg font-semibold">Naf's AI Hub</h3>
            </div>
            <p class="text-light/80 mb-4">Empowering users with cutting-edge AI tools for creativity, productivity, and learning.</p>
            <div class="flex space-x-4">
              <a href="#" class="text-light/70">Twitter</a>
              <a href="#" class="text-light/70">LinkedIn</a>
              <a href="#" class="text-light/70">Discord</a>
            </div>
          </div>

          <div>
            <h4 class="text-md font-semibold mb-4">Quick Links</h4>
            <ul class="space-y-2">
              <li><a href="/" class="text-light/80">Home</a></li>
              <li><a href="/referral" class="text-light/80">Refer & Earn</a></li>
              <li><a href="/leaderboard" class="text-light/80">Leaderboard</a></li>
              <li><a href="/badges" class="text-light/80">Badges</a></li>
            </ul>
          </div>

          <div>
            <h4 class="text-md font-semibold mb-4">Support</h4>
            <ul class="space-y-2">
              <li><a href="/support" class="text-light/80">Help Center</a></li>
              <li><a href="/contact" class="text-light/80">Contact Us</a></li>
              <li><a href="/policies" class="text-light/80">Policies</a></li>
              <li><a href="mailto:support@nafsaihub.com" class="text-light/80">Email Support</a></li>
            </ul>
          </div>
        </div>

        <div class="border-t border-secondary pt-6">
          <div class="flex flex-col md:flex-row justify-between items-center">
            <p class="text-sm text-light/70 mb-4 md:mb-0">&copy; 2025 Naf's AI Hub. All rights reserved.</p>
            <div class="flex flex-wrap gap-6 text-sm">
              <a href="/policies" class="text-light/70">Terms of Service</a>
              <a href="/policies" class="text-light/70">Privacy Policy</a>
              <a href="/policies" class="text-light/70">Community Guidelines</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Initial content skeleton placeholder: shows a hero + card row + right sidebar
         so the page feels alive immediately while React bundles and lazy pages load. -->
    <main id="initial-root" class="initial-root" aria-hidden="true">
      <div style="max-width:1280px;margin:0 auto;padding:20px 16px;">
        <div style="position:relative;" class="skeleton hero"></div>
        <div class="skeleton row" style="margin-top:18px;">
          <div class="skeleton card" style="position:relative;"></div>
          <div class="skeleton card" style="position:relative;"></div>
          <div class="skeleton card" style="position:relative;"></div>
        </div>
        <div style="display:flex;gap:16px;margin-top:18px;align-items:flex-start;">
          <div style="flex:1;">
            <div class="skeleton" style="height:220px;border-radius:10px;position:relative;"></div>
            <div style="height:12px;margin-top:12px;width:40%;background:transparent"></div>
            <div style="height:12px;margin-top:8px;width:80%;background:transparent"></div>
          </div>
          <div class="skeleton sidebar" style="position:relative;"></div>
        </div>
      </div>
    </main>

    <!-- root for React mount -->
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
