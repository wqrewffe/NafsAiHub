<!DOCTYPE html>
<html lang="en" data-transparent="true" style="background-color:#061018;color:#e6edf3">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7F8R9GYM93"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-7F8R9GYM93');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- Prevent browser from caching this HTML -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="icon" type="image/png" href="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png">
    <title>NafsAiHub — Learn, Compete, and Collaborate</title>
    
    <!-- SEO Meta Tags -->
  <meta name="description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.">
  <meta name="keywords" content="AI tools,learning platform,quizzes,study groups,competitions,educational technology">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://nafsaihub.vercel.app/">
  
  <!-- Theme & PWA -->
  <meta name="theme-color" content="#8b5cf6">
  <link rel="manifest" href="/manifest.json">
  
  <!-- Open Graph -->
  <meta property="og:title" content="NafsAiHub — Learn, Compete, and Collaborate">
  <meta property="og:description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.">
  <meta property="og:url" content="https://nafsaihub.vercel.app/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="NafsAiHub — Learn, Compete, and Collaborate">
  <meta name="twitter:description" content="NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features.">
  <meta name="twitter:image" content="https://nafsaihub.vercel.app/assets/fav-Ck4NQm_F.png">
  
  <script type="application/ld+json">
    {"@context":"https://schema.org","@type":"WebSite","name":"NafsAiHub","url":"https://nafsaihub.vercel.app/","description":"NafsAiHub — a collaborative learning platform with quizzes, study groups, competitions, and AI-powered features."}
  </script>
  
  <style>
    :root{--nav-height:64px;--footer-height:220px}
    *{margin:0;padding:0;box-sizing:border-box}
    html,body,#root{background:#061018;color:#e6edf3;min-height:100vh;scroll-behavior:smooth}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif}
    
    /* Navbar */
    #initial-nav{position:fixed;top:0;left:0;right:0;height:var(--nav-height);background:rgba(6,8,15,.8);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.06);z-index:50;padding:1rem 0}
    .nav-container{max-width:1280px;margin:0 auto;padding:0 1rem;display:flex;align-items:center;justify-content:space-between;height:100%}
    .brand{display:flex;align-items:center;gap:.75rem;text-decoration:none}
    .brand-logo{height:28px;width:28px;object-fit:contain}
    .brand-title{color:#ff0000;font-weight:700;font-size:1.35rem}
    .nav-links{display:none;gap:1rem;align-items:center}
    .nav-link{color:#cbd5e1;text-decoration:none;padding:.5rem .75rem;border-radius:.375rem;font-size:1.05rem}
    .nav-link:hover{background:rgba(255,255,255,.1);color:#fff}
    .btn-signup{background:#0ea5e9;color:#fff;padding:.5rem 1rem;border-radius:.375rem;text-decoration:none}
    @media(min-width:768px){.nav-links{display:flex}}
    
    /* Footer */
    #initial-footer{position:fixed;bottom:0;left:0;right:0;height:var(--footer-height);background:rgba(30,41,59,.5);border-top:1px solid rgba(255,255,255,.06);z-index:30;padding:2rem 0}
    .footer-container{max-width:1280px;margin:0 auto;padding:0 1rem}
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem;margin-bottom:2rem}
    .footer-title{font-size:1.125rem;font-weight:600;margin-bottom:1rem}
    .footer-text{color:rgba(230,237,243,.8);margin-bottom:1rem;line-height:1.5}
    .footer-links{list-style:none}
    .footer-links li{margin-bottom:.5rem}
    .footer-links a{color:rgba(230,237,243,.8);text-decoration:none;transition:color 0.2s}
    .footer-links a:hover{color:#8b5cf6}
    .footer-bottom{border-top:1px solid rgba(255,255,255,.06);padding-top:1.5rem;color:rgba(230,237,243,.7);font-size:.875rem}
    .footer-bottom-content{display:flex;flex-direction:column;gap:1rem;align-items:center}
    @media(min-width:768px){.footer-bottom-content{flex-direction:row;justify-content:space-between}}
    .footer-policies{display:flex;flex-wrap:wrap;gap:1.5rem}
    .footer-policies a{color:rgba(230,237,243,.7);text-decoration:none;transition:color 0.2s}
    .footer-policies a:hover{color:#8b5cf6}
    .social-icons{display:flex;gap:1rem;margin-top:1rem}
    .social-link{color:rgba(230,237,243,.7);transition:color 0.2s}
    .social-link:hover{color:#8b5cf6}
    .social-icon{height:24px;width:24px;fill:currentColor}
    
    .initial-root{display:none}
  </style>
  
  
  <script>
    (function() {
      'use strict';
      
      console.log('[Cleanup] Starting aggressive cache cleanup...');
      
      try {
        const keys = Object.keys(localStorage);
        let removedCount = 0;
        keys.forEach(key => {
          if (key === '/App.tsx' || key === '/components/Layout.tsx' || key === '/hooks/useAuth.tsx' ||
              key.includes('/App.tsx') || key.includes('/components/Layout.tsx') || key.includes('/hooks/useAuth.tsx')) {
            localStorage.removeItem(key);
            removedCount++;
          }
        });
        if (removedCount > 0) {
          console.log('[Cleanup] Removed', removedCount, 'broken localStorage entries');
        }
      } catch(e) {
        console.warn('[Cleanup] localStorage cleanup error:', e);
      }

      if('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          console.log('[Cleanup] Found', registrations.length, 'service worker registrations');
          for(let registration of registrations) {
            registration.unregister().then(function(success) {
              if (success) {
                console.log('[Cleanup] Service worker unregistered successfully');
              }
            }).catch(function(err) {
              console.warn('[Cleanup] Service worker unregister error:', err);
            });
          }
        }).catch(function(err) {
          console.warn('[Cleanup] Service worker getRegistrations error:', err);
        });
      }

      if('caches' in window) {
        caches.keys().then(function(cacheNames) {
          console.log('[Cleanup] Found', cacheNames.length, 'caches to clear');
          return Promise.all(
            cacheNames.map(function(cacheName) {
              console.log('[Cleanup] Deleting cache:', cacheName);
              return caches.delete(cacheName);
            })
          ).then(function() {
            console.log('[Cleanup] All caches cleared successfully');
          });
        }).catch(function(err) {
          console.warn('[Cleanup] Cache cleanup error:', err);
        });
      }

      if('indexedDB' in window) {
        try {
          if (indexedDB.databases) {
            indexedDB.databases().then(function(databases) {
              databases.forEach(function(db) {
                if (db.name && (db.name.includes('nafs') || db.name.includes('cache'))) {
                  indexedDB.deleteDatabase(db.name).catch(function(err) {
                    console.warn('IndexedDB delete error:', err);
                  });
                }
              });
            }).catch(function(err) {
              console.warn('IndexedDB databases() error:', err);
            });
          }
        } catch(e) {
          console.warn('IndexedDB cleanup error:', e);
        }
      }

      try {
        sessionStorage.clear();
        console.log('[Cleanup] sessionStorage cleared');
      } catch(e) {
        console.warn('[Cleanup] sessionStorage clear error:', e);
      }
      
      console.log('[Cleanup] Initial cleanup complete');
      
      function reloadStylesheets() {
        const stylesheets = document.querySelectorAll('link[rel="stylesheet"]');
        stylesheets.forEach(function(link) {
          const href = link.getAttribute('href');
          if (href && !href.includes('cdn.tailwindcss.com')) {
            const url = new URL(href, window.location.origin);
            url.searchParams.set('_t', Date.now());
            link.setAttribute('href', url.pathname + url.search);
            console.log('[Cleanup] Reloaded stylesheet:', href);
          }
        });
      }
      
      // Reload stylesheets after a short delay to ensure they're not cached
      setTimeout(reloadStylesheets, 100);
    })();

    window.addEventListener('load', function() {
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
      }
      if('caches' in window) {
        caches.keys().then(function(cacheNames) {
          return Promise.all(cacheNames.map(function(cacheName) {
            return caches.delete(cacheName);
          }));
        });
      }
    });
  </script>
  
  <script src="/preloader.js" defer></script>
</head>
<body>
 
  <script>
    if(window.innerWidth>=768){
      const s=document.createElement('script');
      // s.src='/site-bg-parallax.js';
      s.defer=true;
      document.head.appendChild(s);
    }
  </script>

  
  <!-- <link rel="stylesheet" href="/styles.css?v=1.0.2" id="main-stylesheet"> -->
  <main class="initial-root" aria-hidden="true">
    <div style="max-width:1280px;margin:0 auto;padding:0 1rem">
      <div class="skeleton hero"></div>
      <div class="card-row">
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
        <div class="skeleton card"></div>
      </div>
    </div>
  </main>
  
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={theme:{extend:{colors:{primary:'rgb(var(--color-primary-rgb)/<alpha-value>)',secondary:'rgb(var(--color-secondary-rgb)/<alpha-value>)',accent:'rgb(var(--color-accent-rgb)/<alpha-value>)',light:'rgb(var(--color-light-rgb)/<alpha-value>)'}}}};
      </script>
</body>
</html>
